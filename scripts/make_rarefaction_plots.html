<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>make_rarefaction_plots.py – Generate Rarefaction Plots &mdash; Homepage</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.9.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Homepage" href="../index.html" />
    <link rel="up" title="QIIME Scripts" href="index.html" />
    <link rel="next" title="make_tep.py – Makes TopiaryExplorer project file" href="make_tep.html" />
    <link rel="prev" title="make_qiime_py_file.py – Create python file" href="make_qiime_py_file.html" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<script type="text/javascript" src="http://www.google.com/jsapi?key=ABQIAAAAbW_pA971hrPgosv-Msv7hRRE2viNBUPuU405tK6p2cguOFmlFBQSwZMG6_q_v6Z42nkdo9ejT1aHmA"></script>
<script type="text/javascript" src="../_static/google_feed.js"></script>

  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 0px">
<a href="../index.html"><img src="../_static/wordpressheader.png" border="0" alt="sampledoc"/></a>
</div>
<div class="news" style="background-color:#ccc;"><table style="font-size:12pt;padding: 5px;"><tr id="feed"><td><b>News and Announcements &raquo;</b></td>
</tr></table></div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="make_tep.html" title="make_tep.py – Makes TopiaryExplorer project file"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="make_qiime_py_file.html" title="make_qiime_py_file.py – Create python file"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Home</a> &raquo;</li>
          <li><a href="../documentation/index.html" >QIIME File Formats</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">QIIME Scripts</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="make-rarefaction-plots"></span><div class="section" id="make-rarefaction-plots-py-generate-rarefaction-plots">
<span id="index-0"></span><h1><em>make_rarefaction_plots.py</em> &#8211; Generate Rarefaction Plots<a class="headerlink" href="#make-rarefaction-plots-py-generate-rarefaction-plots" title="Permalink to this headline">¶</a></h1>
<p><strong>Description:</strong></p>
<p>Once the batch alpha diversity files have been collated, you may want to compare the diversity using plots. Using the results from <a class="reference external" href="./collate_alpha.html">collate_alpha.py</a>, you can plot the samples and or by category in the mapping file using this script.</p>
<p>This script creates an html file of rarefaction plots based on the supplied collated alpha-diversity files in a folder or a comma-separated list of files, by passing the &#8220;-i&#8221; option.  Be aware that this script produces many images for the interactive html pages, so you may choose to not create these pages. The user may also supply optional arguments like an image type (-g), and a resolution (-d).</p>
<p><strong>Usage:</strong> <tt class="file docutils literal"><span class="pre">make_rarefaction_plots.py</span> <span class="pre">[options]</span></tt></p>
<p><strong>Input Arguments:</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>[REQUIRED]</strong></p>
<dl class="docutils">
<dt>-i, <cite>-</cite>-input_dir</dt>
<dd>Input directory containing results from <a class="reference external" href="./collate_alpha.html">collate_alpha.py</a>. [REQUIRED]</dd>
<dt>-m, <cite>-</cite>-map_fname</dt>
<dd>Input metadata mapping filepath. [REQUIRED]</dd>
</dl>
<p><strong>[OPTIONAL]</strong></p>
<dl class="last docutils">
<dt>-b, <cite>-</cite>-colorby</dt>
<dd>Comma-separated list categories metadata categories (column headers) to color by in the plots. The categories must match the name of a column header in the mapping file exactly. Multiple categories can be list by comma separating them without spaces. The user can also combine columns in the mapping file by separating the categories by &#8220;&amp;&amp;&#8221; without spaces. [default=color by all]</dd>
<dt>-p, <cite>-</cite>-prefs_path</dt>
<dd>Input user-generated preferences filepath. NOTE: This is a file with a dictionary containing preferences for the analysis. [default: None]</dd>
<dt>-k, <cite>-</cite>-background_color</dt>
<dd>Background color to use in the plots[default: white]</dd>
<dt>-g, <cite>-</cite>-imagetype</dt>
<dd>Type of image to produce (i.e. png, svg, pdf). WARNING: Some formats may not properly open in your browser! [default: png]</dd>
<dt>-d, <cite>-</cite>-resolution</dt>
<dd>Resolution of the plot. [default: 75]</dd>
<dt>-y, <cite>-</cite>-ymax</dt>
<dd>Maximum y-value to be used for the plots. Allows for directly comparable rarefaction plots between analyses [default: None]</dd>
<dt>-w, <cite>-</cite>-webpage</dt>
<dd>DEPRECATED: Suppress HTML output. [default: True]</dd>
<dt>-s, <cite>-</cite>-suppress_html_output</dt>
<dd>Suppress HTML output. [default: False]</dd>
<dt>-e, <cite>-</cite>-std_type</dt>
<dd>Calculation to perform for generating error bars. Options are standard deviation (stddev) or standard error (stderr). [default: stddev]</dd>
<dt>-o, <cite>-</cite>-output_dir</dt>
<dd>Path to the output directory</dd>
<dt><cite>-</cite>-output_type</dt>
<dd>Write the HTML output as one file, images embedded, or several. Options are &#8220;file_creation&#8221; and &#8220;memory&#8221;. [default: file_creation]</dd>
<dt><cite>-</cite>-generate_per_sample_plots</dt>
<dd>Generate per sample plots for each of the metadata categories. This will allow you to show/hide samples from the plots but will require a longer processing time. In general, this option is useful only for small datasets. [default: False]</dd>
<dt><cite>-</cite>-generate_average_tables</dt>
<dd>Generate average tables of results. A summary of the metrics and alpha diversity measurements. [default: False]</dd>
</dl>
</div>
<p><strong>Output:</strong></p>
<p>The result of this script produces a folder and within that folder there is a sub-folder containing image files. Within the main folder, there is an html file.</p>
<p><strong>Default Example:</strong></p>
<p>For generated rarefaction plots using the default parameters, including the mapping file and one rarefaction file, you can use the following command:</p>
<div class="highlight-python"><div class="highlight"><pre>make_rarefaction_plots.py -i alpha_div_collated/ -m Fasting_Map.txt
</pre></div>
</div>
<p><strong>Specify Image Type and Resolution:</strong></p>
<p>Optionally, you can change the resolution (&#8216;-d&#8217;) and the type of image created (&#8216;-i&#8217;), by using the following command:</p>
<div class="highlight-python"><div class="highlight"><pre>make_rarefaction_plots.py -i alpha_div_collated/ -m Fasting_Map.txt -d 180 -g pdf
</pre></div>
</div>
<p><strong>Use Prefs File:</strong></p>
<p>You can also supply a preferences file &#8216;-p&#8217;, as follows</p>
<div class="highlight-python"><div class="highlight"><pre>make_rarefaction_plots.py -i alpha_div_collated/ -m Fasting_Map.txt -d 180 -p prefs.txt
</pre></div>
</div>
<p><strong>Set Background Color:</strong></p>
<p>Alternatively, you can set the plot background &#8216;-k&#8217;</p>
<div class="highlight-python"><div class="highlight"><pre>make_rarefaction_plots.py -i alpha_div_collated/ -m Fasting_Map.txt -k black
</pre></div>
</div>
<p><strong>Generate raw data without interactive webpages:</strong></p>
<p>The user can choose to not create an interactive webpage (&#8216;-w&#8217; option). This is for the case, where the user just wants the average plots and the raw average data.</p>
<div class="highlight-python"><div class="highlight"><pre>make_rarefaction_plots.py -i alpha_div_collated/ -m Fasting_Map.txt -w
</pre></div>
</div>
<p><strong>Generate average tables and per-sample plots:</strong></p>
<p>Pass &#8211;generate_average_tables and &#8211;generate_per_sample_plots to generate average tables of results as tab-separated text and per-sample plots for each of the metadata categories</p>
<div class="highlight-python"><div class="highlight"><pre>make_rarefaction_plots.py -i alpha_div_collated/ -m Fasting_Map.txt --generate_average_tables --generate_per_sample_plots
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

    

    <h3><a href="../index.html">Site index</a></h3>
    <ul><li><ul>
    <li><a href="http://www.qiime.org">Home</a><br /></li>
    <li><a href="../install/index.html">Install</a><br /></li>
    <li><a href="../tutorials/index.html">Tutorials</a><br /></li>
    <li><a href="index.html">Scripts</a><br /></li>
    <li><a href="http://help.qiime.org">Help</a><br /></li>
    <li><a href="http://qiime.org/home_static/dataFiles.html">Resources</a><br /></li>
    <li><a href="../documentation/index.html">File Formats</a><br /></li>
    <li><a href="http://workshops.qiime.org">Workshops</a><br /></li>
    <li><a href="http://qiime.wordpress.com">Blog</a><br /></li>
    <li><a href="../developer/index.html">Developer</a><br /></li>
    </ul></li></ul>


  <h4>Previous topic</h4>
  <p class="topless"><a href="make_qiime_py_file.html"
                        title="previous chapter"><em>make_qiime_py_file.py</em> &#8211; Create python file</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="make_tep.html"
                        title="next chapter"><em>make_tep.py</em> &#8211; Makes TopiaryExplorer project file</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="make_tep.html" title="make_tep.py – Makes TopiaryExplorer project file"
             >next</a> |</li>
        <li class="right" >
          <a href="make_qiime_py_file.html" title="make_qiime_py_file.py – Create python file"
             >previous</a> |</li>
        <li><a href="../index.html">Home</a> &raquo;</li>
          <li><a href="../documentation/index.html" >QIIME File Formats</a> &raquo;</li>
          <li><a href="index.html" >QIIME Scripts</a> &raquo;</li> 
      </ul>
    </div>
<div style="text-align: center; padding: 0px;"><br />
<a href="http://www.scikit-bio.org" target="_blank"><img src="../_static/powered_by_skbio.png" border="0" alt="sampledoc" height="70px"/></a>
<br /></div>

    <div class="footer">
        &copy; Copyright 2010-2014, QIIME Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-6636235-4");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>