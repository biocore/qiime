<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>relatedness.py – Calculate NRI (net relatedness index) and NTI (nearest taxon index) using the formulas from Phylocom 4.2/3.41 and Webb 2002. &mdash; Homepage</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.9.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Homepage" href="../index.html" />
    <link rel="up" title="QIIME Scripts" href="index.html" />
    <link rel="next" title="shared_phylotypes.py – Compute shared OTUs between all pairs of samples" href="shared_phylotypes.html" />
    <link rel="prev" title="quality_scores_plot.py – Generates histograms of sequence quality scores and number of nucleotides recorded at a particular index" href="quality_scores_plot.html" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<script type="text/javascript" src="http://www.google.com/jsapi?key=ABQIAAAAbW_pA971hrPgosv-Msv7hRRE2viNBUPuU405tK6p2cguOFmlFBQSwZMG6_q_v6Z42nkdo9ejT1aHmA"></script>
<script type="text/javascript" src="../_static/google_feed.js"></script>

  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 0px">
<a href="../index.html"><img src="../_static/wordpressheader.png" border="0" alt="sampledoc"/></a>
</div>
<div class="news" style="background-color:#ccc;"><table style="font-size:12pt;padding: 5px;"><tr id="feed"><td><b>News and Announcements &raquo;</b></td>
</tr></table></div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="shared_phylotypes.html" title="shared_phylotypes.py – Compute shared OTUs between all pairs of samples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="quality_scores_plot.html" title="quality_scores_plot.py – Generates histograms of sequence quality scores and number of nucleotides recorded at a particular index"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Home</a> &raquo;</li>
          <li><a href="../documentation/index.html" >QIIME File Formats</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">QIIME Scripts</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="relatedness"></span><div class="section" id="relatedness-py-calculate-nri-net-relatedness-index-and-nti-nearest-taxon-index-using-the-formulas-from-phylocom-4-2-3-41-and-webb-2002">
<span id="index-0"></span><h1><em>relatedness.py</em> &#8211; Calculate NRI (net relatedness index) and NTI (nearest taxon index) using the formulas from Phylocom 4.2/3.41 and Webb 2002.<a class="headerlink" href="#relatedness-py-calculate-nri-net-relatedness-index-and-nti-nearest-taxon-index-using-the-formulas-from-phylocom-4-2-3-41-and-webb-2002" title="Permalink to this headline">¶</a></h1>
<p><strong>Description:</strong></p>
<p>This script calculates NRI and NTI from a path to a Newick formatted tree and a path to a comma separated list of ids in that tree that form the group whose NRI/NTI you want to test. The tree is not required to have distances. If none are found script will use the number of nodes (self inclusive) as their distance from one another. NRI and NTI are calculated as described in the Phylocom manual (which is a slightly modified version of that found in Webb 2002, and Webb 2000). The Phylocom manual is freely available on the web and Webb 2002 can be found in the Annual Review of Ecology and Systematics: Phylogenies and Community Ecology Webb 2002.</p>
<p><strong>Usage:</strong> <tt class="file docutils literal"><span class="pre">relatedness.py</span> <span class="pre">[options]</span></tt></p>
<p><strong>Input Arguments:</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>[REQUIRED]</strong></p>
<dl class="docutils">
<dt>-t, <cite>-</cite>-tree_fp</dt>
<dd>The tree filepath</dd>
<dt>-g, <cite>-</cite>-taxa_fp</dt>
<dd>Taxa list filepath</dd>
</dl>
<p><strong>[OPTIONAL]</strong></p>
<dl class="last docutils">
<dt>-i, <cite>-</cite>-iters</dt>
<dd>Number of iterations to use for sampling tips without replacement (null model 2 community sampling, see <a class="reference external" href="http://bodegaphylo.wikispot.org/Community_Phylogenetics">http://bodegaphylo.wikispot.org/Community_Phylogenetics</a> [default: 1000]</dd>
<dt>-m, <cite>-</cite>-methods</dt>
<dd>Comma-separated list of metrics to calculate. [default: nri,nti]</dd>
<dt>-o, <cite>-</cite>-output_fp</dt>
<dd>Path where output will be written [default: print to screen]</dd>
</dl>
</div>
<p><strong>Output:</strong></p>
<p>Outputs a value for specified tests</p>
<p><strong>Calculate both NRI and NTI from the given tree and group of taxa:</strong></p>
<div class="highlight-python"><div class="highlight"><pre>relatedness.py -t reference.tre -g group1_otus.txt -m nri,nti
</pre></div>
</div>
<p><strong>Calculate only NRI:</strong></p>
<div class="highlight-python"><div class="highlight"><pre>relatedness.py -t reference.tre -g group1_otus.txt -m nri
</pre></div>
</div>
<p><strong>Calculate only NTI using a different number of iterations:</strong></p>
<div class="highlight-python"><div class="highlight"><pre>relatedness.py -t reference.tre -g group1_otus.txt -m nti -i 100
</pre></div>
</div>
<p><strong>Calculate only NTI using a different number of iterations and save the results into a file called output.txt:</strong></p>
<div class="highlight-python"><div class="highlight"><pre>relatedness.py -t reference.tre -g group1_otus.txt -m nti -i 100 -o output.txt
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

    

    <h3><a href="../index.html">Site index</a></h3>
    <ul><li><ul>
    <li><a href="http://www.qiime.org">Home</a><br /></li>
    <li><a href="../install/index.html">Install</a><br /></li>
    <li><a href="../tutorials/index.html">Tutorials</a><br /></li>
    <li><a href="index.html">Scripts</a><br /></li>
    <li><a href="http://help.qiime.org">Help</a><br /></li>
    <li><a href="http://qiime.org/home_static/dataFiles.html">Resources</a><br /></li>
    <li><a href="../documentation/index.html">File Formats</a><br /></li>
    <li><a href="http://workshops.qiime.org">Workshops</a><br /></li>
    <li><a href="http://qiime.wordpress.com">Blog</a><br /></li>
    <li><a href="../developer/index.html">Developer</a><br /></li>
    </ul></li></ul>


  <h4>Previous topic</h4>
  <p class="topless"><a href="quality_scores_plot.html"
                        title="previous chapter"><em>quality_scores_plot.py</em> &#8211; Generates histograms of sequence quality scores and number of nucleotides recorded at a particular index</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="shared_phylotypes.html"
                        title="next chapter"><em>shared_phylotypes.py</em> &#8211; Compute shared OTUs between all pairs of samples</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="shared_phylotypes.html" title="shared_phylotypes.py – Compute shared OTUs between all pairs of samples"
             >next</a> |</li>
        <li class="right" >
          <a href="quality_scores_plot.html" title="quality_scores_plot.py – Generates histograms of sequence quality scores and number of nucleotides recorded at a particular index"
             >previous</a> |</li>
        <li><a href="../index.html">Home</a> &raquo;</li>
          <li><a href="../documentation/index.html" >QIIME File Formats</a> &raquo;</li>
          <li><a href="index.html" >QIIME Scripts</a> &raquo;</li> 
      </ul>
    </div>
<div style="text-align: center; padding: 0px;"><br />
<a href="http://www.scikit-bio.org" target="_blank"><img src="../_static/powered_by_skbio.png" border="0" alt="sampledoc" height="70px"/></a>
<br /></div>

    <div class="footer">
        &copy; Copyright 2010-2014, QIIME Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-6636235-4");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>