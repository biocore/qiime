<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>plot_semivariogram.py – Fits a model between two distance matrices and plots the result &mdash; Homepage</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Homepage" href="../index.html" />     
<meta http-equiv="Content-Style-Type" content="text/css" />
<script type="text/javascript" src="http://www.google.com/jsapi?key=ABQIAAAAbW_pA971hrPgosv-Msv7hRRE2viNBUPuU405tK6p2cguOFmlFBQSwZMG6_q_v6Z42nkdo9ejT1aHmA"></script>
<script type="text/javascript" src="../_static/google_feed.js"></script>

  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 0px">
<a href="../index.html"><img src="../_static/wordpressheader.png" border="0" alt="sampledoc"/></a>
</div>
<div class="news" style="background-color:#ccc;"><table style="font-size:12pt;padding: 5px;"><tr id="feed"><td><b>News and Announcements &raquo;</b></td>
</tr></table></div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Home</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="plot-semivariogram"></span><div class="section" id="plot-semivariogram-py-fits-a-model-between-two-distance-matrices-and-plots-the-result">
<span id="index-0"></span><h1><em>plot_semivariogram.py</em> &#8211; Fits a model between two distance matrices and plots the result<a class="headerlink" href="#plot-semivariogram-py-fits-a-model-between-two-distance-matrices-and-plots-the-result" title="Permalink to this headline">¶</a></h1>
<p><strong>Description:</strong></p>
<p>Fits a spatial autocorrelation model between two matrices and plots the result. This script will work with two distance matrices but will ignore the 0s at the diagonal and the values that go to N/A. See <a class="reference external" href="./distance_matrix_from_mapping.html">distance_matrix_from_mapping.py</a>.</p>
<p><strong>Usage:</strong> <tt class="file docutils literal"><span class="pre">plot_semivariogram.py</span> <span class="pre">[options]</span></tt></p>
<p><strong>Input Arguments:</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>[REQUIRED]</strong></p>
<dl class="docutils">
<dt>-x, <cite>-</cite>-input_path_x</dt>
<dd>Path to distance matrix to be displayed in the x axis</dd>
<dt>-y, <cite>-</cite>-input_path_y</dt>
<dd>Path to distance matrix to be displayed in the y axis</dd>
<dt>-o, <cite>-</cite>-output_path</dt>
<dd>Output path. directory for batch processing, filename for single file operation</dd>
</dl>
<p><strong>[OPTIONAL]</strong></p>
<dl class="last docutils">
<dt>-b, <cite>-</cite>-binning</dt>
<dd>Binning ranges. Format: [increment,top_limit], when top_limit is -1=infinitum; you can specify several ranges using the same format, i.e. [2.5,10][50,-1] will set two bins, one from 0-10 using 2.5 size steps and from 10-inf using 50 size steps. Note that the binning is used to clean the plots (reduce number of points) but ignored to fit the model. [default: None]</dd>
<dt><cite>-</cite>-ignore_missing_samples</dt>
<dd>This will overpass the error raised when the matrices have different sizes/samples</dd>
<dt><cite>-</cite>-x_max</dt>
<dd>X axis max limit [default: auto]</dd>
<dt><cite>-</cite>-x_min</dt>
<dd>X axis min limit [default: auto]</dd>
<dt><cite>-</cite>-y_max</dt>
<dd>Y axis max limit [default: auto]</dd>
<dt><cite>-</cite>-y_min</dt>
<dd>Y axis min limit [default: auto]</dd>
<dt>-X, <cite>-</cite>-x_label</dt>
<dd>Label for the x axis [default: Distance Dissimilarity (m)]</dd>
<dt>-Y, <cite>-</cite>-y_label</dt>
<dd>Label for the y axis [default: Community Dissimilarity]</dd>
<dt>-t, <cite>-</cite>-fig_title</dt>
<dd>Title of the plot [default: Semivariogram]</dd>
<dt><cite>-</cite>-dot_color</dt>
<dd>Dot color for plot, more info: <a class="reference external" href="http://matplotlib.sourceforge.net/api/pyplot_api.html">http://matplotlib.sourceforge.net/api/pyplot_api.html</a> [default: white]</dd>
<dt><cite>-</cite>-dot_marker</dt>
<dd>Dot color for plot, more info: <a class="reference external" href="http://matplotlib.sourceforge.net/api/pyplot_api.html">http://matplotlib.sourceforge.net/api/pyplot_api.html</a> [default: o]</dd>
<dt><cite>-</cite>-line_color</dt>
<dd>Line color for plot, more info: <a class="reference external" href="http://matplotlib.sourceforge.net/api/pyplot_api.html">http://matplotlib.sourceforge.net/api/pyplot_api.html</a> [default: blue]</dd>
<dt><cite>-</cite>-dot_alpha</dt>
<dd>Alpha for dots, more info: <a class="reference external" href="http://matplotlib.sourceforge.net/api/pyplot_api.html">http://matplotlib.sourceforge.net/api/pyplot_api.html</a> [default: 1]</dd>
<dt><cite>-</cite>-line_alpha</dt>
<dd>Alpha for dots, more info: <a class="reference external" href="http://matplotlib.sourceforge.net/api/pyplot_api.html">http://matplotlib.sourceforge.net/api/pyplot_api.html</a> [default: 1]</dd>
<dt><cite>-</cite>-model</dt>
<dd>Model to be fitted to the data. Valid choices are:nugget, exponential, gaussian, periodic, linear. [default: exponential]</dd>
<dt>-p, <cite>-</cite>-print_model</dt>
<dd>Print in the title of the plot the function of the fit. [default: False]</dd>
<dt>-c, <cite>-</cite>-category</dt>
<dd>Category to color each of the trajectories when you have multiple treatments [default: None]</dd>
<dt>-m, <cite>-</cite>-mapping_fp</dt>
<dd>Metadata mapping file, only used when coloring by a category, a file with the legends and color coding will be created with the suffix legend [default: None]</dd>
</dl>
</div>
<p><strong>Output:</strong></p>
<p>The resulting output file consists of a pdf image containing the plot between the two distances matrices and the fitted model</p>
<p><strong>Fitting:</strong></p>
<p>For this script, the user supplies two distance matrices (i.e. resulting file from <a class="reference external" href="./beta_diversity.html">beta_diversity.py</a>), along with the output filename (e.g. semivariogram), and the model to fit, as follows:</p>
<div class="highlight-python"><pre>plot_semivariogram.py -x distance.txt -y unifrac.txt -o semivariogram_exponential.png</pre>
</div>
<p>Modify the the default method to gaussian</p>
<div class="highlight-python"><pre>plot_semivariogram.py -x distance.txt -y unifrac.txt --model gaussian -o semivariogram_gaussian.png</pre>
</div>
<p><strong>Color semivariograms by a category in the metadata mapping file:</strong></p>
<p>Using a header name in the mapping file (Time), create two separate semivariograms in the same plot, an accompanying file with the color coding will be created(categories_legend.eps), both the legends and the plot will be in eps format.</p>
<div class="highlight-python"><pre>plot_semivariogram.py -y unweighted_unifrac_dm.txt -x time_dm.txt --model gaussian -m Fasting_Map.txt -o categories.eps -c Treatment</pre>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

    

	<h3><a href="../index.html">Site index</a></h3>
	<ul><li><ul>
	<li><a href="../index.html">Home</a><br /></li>
	<li><a href="../install/index.html">Install</a><br /></li>
	<li><a href="../documentation/index.html">Documentation</a><br /></li>
	<li><a href="../tutorials/index.html">Tutorials</a><br /></li>
	<li><a href="http://qiime.wordpress.com">Blog</a><br /></li>
	<li><a href="../developer/index.html">Developer</a><br /></li>
	</ul></li></ul>


<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Home</a> &raquo;</li> 
      </ul>
    </div>
<div style="text-align: center; padding: 0px;"><br />
<a href="http://www.pycogent.org" target="_blank"><img src="../_static/PoweredByPycogent.jpg" border="0" alt="sampledoc" height="70px"/></a>
<br /></div>

    <div class="footer">
        &copy; Copyright 2010-2014, QIIME Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-6636235-4");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>