<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Input Files &mdash; Homepage</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.1.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Homepage" href="../index.html" />     
<meta http-equiv="Content-Style-Type" content="text/css" />
<script type="text/javascript" src="http://www.google.com/jsapi?key=ABQIAAAAbW_pA971hrPgosv-Msv7hRRE2viNBUPuU405tK6p2cguOFmlFBQSwZMG6_q_v6Z42nkdo9ejT1aHmA"></script>
<script type="text/javascript" src="../_static/google_feed.js"></script>

  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 0px">
<a href="../index.html"><img src="../_static/wordpressheader.png" border="0" alt="sampledoc"/></a>
</div>
<div class="news" style="background-color:#ccc;"><table style="font-size:12pt;padding: 5px;"><tr id="feed"><td><b>News and Announcements &raquo;</b></td>
</tr></table></div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Home</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="input-files">
<span id="essential-files"></span><h1>Input Files<a class="headerlink" href="#input-files" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-files-do-i-need">
<h2>What Files Do I Need?<a class="headerlink" href="#what-files-do-i-need" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>454-machine generated FASTA file(s) (.fna or .fasta)</li>
<li>Quality score file(s) (.qual)  - Optional</li>
<li>sff file(s) (.sff) - Optional</li>
<li>A mapping file generated by the user.  This file contains all of the information about the sequences necessary to perform the data analysis: the name of each sample, the barcode assignment of each sample (if preprocessing step is activated), the linker and primer sequence used to amplify each sample, any metadata that relates to the samples (for instance, health status or sampling site), and any additional information relating to specific samples that may be useful to have at hand when considering outliers (for example, what medications a patient was taking at time of sampling). See format specifications below.</li>
</ol>
</div>
<div class="section" id="file-format-details">
<h2>File Format Details<a class="headerlink" href="#file-format-details" title="Permalink to this headline">¶</a></h2>
<p>These are general guidelines that apply to multiple files:</p>
<ol class="arabic simple">
<li>Files should have proper file type suffix: E.g. &#8216;.fna&#8217; or &#8216;.fasta&#8217; for FASTA files, &#8216;.qual&#8217; for quality score files, &#8216;.sff&#8217; for flowgram files, &#8216;.txt&#8217; for the mapping files.</li>
<li>Do not use spaces in the filename. Use underscores or MixedCase instead. For example: <tt class="docutils literal"><span class="pre">amazon</span> <span class="pre">soil.fna</span></tt> is not allowed, should be <tt class="docutils literal"><span class="pre">amazon_soil.fna</span></tt> or <tt class="docutils literal"><span class="pre">AmazonSoil.fna</span></tt></li>
</ol>
<div class="section" id="fasta-file-fna">
<h3>FASTA File (.fna)<a class="headerlink" href="#fasta-file-fna" title="Permalink to this headline">¶</a></h3>
<p>This file can be generated from a 454 sff file using the command:</p>
<div class="highlight-python"><pre>sffinfo -s NAME_OF_SFF_FILES &gt; OUTPUT_FILE.fna</pre>
</div>
<p>This is an example showing the first few raw sequences in an .fna file:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>&gt;FV5UW9Z02IMIZQ length=42 xy=3419_3860 region=2 run=R_2009_05_20_11_44_59_</li>
<li>GACATCGGCTATCATGCTGCCTCCCTGNTGNNNNNCANNGCG</li>
<li>&gt;FV5UW9Z02GOSNH length=243 xy=2625_2683 region=2 run=R_2009_05_20_11_44_59_</li>
<li>GACTAACGTCACCATGCTGCCTCCCGTAGGAGTCTGGACCGTGTCTCAGTTCCAGTGTGGCCGTTCATCCTCTCAGA</li>
<li>CCGGCTACTGATCGTCGCCTTGGTGAGCCGTTACCTCACCAACTAGCTAATCAGACGCGGGTCCATCTCATACCACC</li>
<li>GGAGTTTTTCACACTGTGCCATGCAGCACTGTGCGCTTATGCGGTATTAGCAGTCATTTCTAACTGTTATCCCCTGT</li>
<li>ATGAGGCAGGTT</li>
<li>&gt;FV5UW9Z02FREEG length=271 xy=2245_1046 region=2 run=R_2009_05_20_11_44_59_</li>
<li>GACGAGTCAGTCCATGCTGCCTCCCGTAGGAGTTTGGGCCGTGTCTCAGTCCCAATGTGGCCGGTCACCCTCTCAGG</li>
<li>TCGGCTACTGATCGTCGCCTTGGTAGGCCGTTACCCCACCAACTAGCTAATCAGACGCGGGTCCATCTCATACCACC</li>
<li>GGAGTTTTTCACACCGTACCATGCGGTACTGTGCGCTTATGCGGTATTAGCAGCCGTTTCCAACTGTTATCCCCCTG</li>
<li>TATGAGGCAGGTTACCCACGCGTTACTCACCCGTCCGCCG</li>
<li>...</li>
</ul>
</div>
</div>
<div class="section" id="quality-score-file-qual-optional">
<h3>Quality Score File (.qual) - Optional<a class="headerlink" href="#quality-score-file-qual-optional" title="Permalink to this headline">¶</a></h3>
<p>This is the 454-machine generated quality score file, which contains a score for each base in each sequence included in the FASTA file. It can be generated from an sff file using the command:</p>
<div class="highlight-python"><pre>sffinfo -q NAME_OF_SFF_FILES &gt; OUTPUT_FILE.qual</pre>
</div>
<p>The quality score file that corresponds to the above .fna example looks like this:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>&gt;FV5UW9Z02IMIZQ length=42 xy=3419_3860 region=2 run=R_2009_05_20_11_44_59_</li>
<li>32 32 32 32 32 25 25 25 32 32 32 32 32 32 32 32 32 32 37 40 37 37 30 30 25 25 25</li>
<li>0 25 30 0 0 0 0 0 27 24 0 0 27 27 15</li>
<li>&gt;FV5UW9Z02GOSNH length=243 xy=2625_2683 region=2 run=R_2009_05_20_11_44_59_</li>
<li>37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 39 39 39 39 36 29 29 29 29</li>
<li>29 29 29 33 33 33 39 39 39 39 40 40 40 40 40 40 40 40 37 37 37 37 38 38 36 36 36</li>
<li>37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 33 33 33 33</li>
<li>37 37 37 37 37 37 37 37 37 37 37 37 37 38 38 38 38 37 37 37 37 37 37 37 37 37 37</li>
<li>37 36 36 36 37 36 28 28 28 28 28 36 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37</li>
<li>36 36 36 36 36 37 37 37 37 37 37 37 36 36 36 36 37 37 37 37 37 32 22 22 22 22 22</li>
<li>22 33 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37</li>
<li>36 36 36 36 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 36 28 28 28 33 33 35</li>
<li>31 37 37 35 31 31 26 19 19 22 22 22 26 36 36 36 36 36 36 36 36 36 36 36 36 25 25</li>
<li>&gt;FV5UW9Z02FREEG length=271 xy=2245_1046 region=2 run=R_2009_05_20_11_44_59_</li>
<li>37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 40 40 40 40 40 40 40 40 40</li>
<li>40 40 40 40 40 40 40 40 38 38 38 40 40 40 40 40 40 40 37 37 37 37 37 40 40 40 37</li>
<li>37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37</li>
<li>37 37 37 37 37 37 37 37 37 37 37 37 37 33 33 34 34 37 34 33 34 38 38 37 37 37 37</li>
<li>37 37 37 37 33 33 33 33 33 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37</li>
<li>37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 40 40 40 40</li>
<li>40 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37</li>
<li>37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37 37</li>
<li>38 38 38 40 38 38 38 38 33 33 33 33 33 40 38 38 38 38 38 38 38 38 40 38 38 38 38</li>
<li>38 40 32 32 32 32 32 32 32 32 32 32 32 32 31 31 32 25 25 25 31 30 21 20 20 25 28</li>
<li>30</li>
<li>...</li>
</ul>
</div>
</div>
<div class="section" id="flowgram-file-sff-optional">
<h3>Flowgram File (.sff) - Optional<a class="headerlink" href="#flowgram-file-sff-optional" title="Permalink to this headline">¶</a></h3>
<p>This file is found in the 454 data analysis folder in the &#8220;sff&#8221; directory. It contains all analyzed data from the sequencing run. This file and the qual file, are optional, which to allows for non-454 data (for example, using Sanger reads you may have already performed quality filtering on by the time you started using the pipeline, and/or sequences obtained from GenBank, which may not have quality scores. In these cases, the different kinds of data need to be processed separately with <tt class="docutils literal"><span class="pre">split_libraries.py</span></tt>, and then the resulting FASTA files can be combined.</p>
</div>
<div class="section" id="mapping-file-tab-delimited-txt">
<h3>Mapping File (tab-delimited .txt)<a class="headerlink" href="#mapping-file-tab-delimited-txt" title="Permalink to this headline">¶</a></h3>
<p>The mapping file is generated by the user. This file contains all of the information about the sequences necessary to perform the data analysis: the name of each sample (SampleID), the DNA barcode used for each sample (BarcodeSequence), the linker and primer sequence used to amplify a given sample (LinkerPrimerSequence), any metadata that relates to the samples (for instance, health status or sampling site), and any additional information relating to specific samples that may be useful to have at hand when considering outliers (for example, what medications a patient was taking at time of sampling). See format specifications below.</p>
<p>The first few lines of a mapping file must look like the following:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>#SampleID     BarcodeSequence LinkerPrimerSequence    HostMood        Description</li>
<li>#Example mapping file for QIIME.  Notes may be added on this line.</li>
<li>sample1       AGCACGAGCCTA    YATGCTGCCTCCCGTAGGAGT   tired           ear_sample_from_subject228</li>
<li>...</li>
</ul>
</div>
<p>You are strongly encouraged to validate your mapping file using <tt class="docutils literal"><span class="pre">check_id_map.py</span></tt> before attempting to analyze your data. This tool will check for errors and make suggestions for other aspects of the file to be edited. Errors and warnings will be written to a log file and suggested corrections will be written to a <tt class="docutils literal"><span class="pre">_corrected.txt</span></tt> version of the mapping file, both located in the specified output directory. Currently, the number of valid characters in the headers and data of the mapping file are quite restricted to ensure compatibility with downstream programs. For headers, only alphanumeric and underscores are accepted. Sample IDs, descriptions, and other metadata additionally accept the following characters: .+-%. Barcodes and linker/primer sequences must be IUPAC DNA characters. If invalid characters are found, the <tt class="docutils literal"><span class="pre">_corrected.txt</span></tt> output file will have each of these replaced with an underscore.</p>
<p>The mapping file relates barcodes in the FASTA file to each sample and their related metadata. Each FASTA file must have at least one mapping file but multiple mapping files can be defined for any given FASTA file. For example, if you have bundled several unrelated studies into one 454 run (for instance, a mouse study, a soil study and a fish study), and need to analyze each study separately, you would generate three separate mapping files that specify a subset of samples and their associated metadata. Alternatively, you can combine multiple runs (e.g. multiple 454 runs, multiple FASTA files) with a single mapping file.</p>
<p>The mapping file is organized to contain data in columns with headers. As such, it is usually generated by users in Excel. However, it cannot be submitted in Excel format, it must be submitted in tab-delimited text format. Simply saving an excel spreadsheet in tab-delimited text format may be problematic because it will include extra trailing empty columns. One way around this is to copy and paste the highlighted data into a more simple text editing program.</p>
<p>The mapping file format is tab-delimited text. This must be plain text, therefore Word and Excel documents cannot be read directly. The first line of the mapping file is the header line and it MUST start with a &#8220;#&#8221; character. Optionally, lines immediately following the header line that start with a &#8220;#&#8221; character will be treated as run description lines. This section is for descriptions that apply to all samples in the mapping file (as opposed to / in addition to the descriptions that apply to each individual sample).</p>
<p>Each column header MUST contain alphanumeric (a-z, A-Z and 1-9) and/or underscore (&#8220;_&#8221;) characters only, where the header MUST start with letter. All other characters (e.g. $, *, ^, etc) are not supported at this time and use of those characters may cause problems downstream in the QIIME pipeline. Sample IDs, descriptions, and metadata fields additionally allow the use of plus(+), minus(-), period(.), and percent (%) characters.</p>
<p>Currently, the user has the ability to define their own column headers, however; QIIME will be adopting the MIENS standard, therefore all column headings MUST correspond the proper MIENS nomenclature (<a class="reference external" href="http://gensc.org/gc_wiki/index.php/MIENS">http://gensc.org/gc_wiki/index.php/MIENS</a>). The following details the current mapping file guidelines:</p>
<ol class="arabic simple">
<li>The first column header must be &#8220;#SampleID&#8221;, and the data in this column must contain unique (short and meaningful) sample identifiers containing only alphanumeric or period (&#8220;.&#8221;) characters.</li>
<li>The second column header must be &#8220;BarcodeSequence&#8221;, where each value in that column corresponds to the barcode used for each sample.  Only IUPAC DNA characters are acceptable.</li>
<li>The third column header must be “LinkerPrimerSequence”, where each value in that column corresponds to the primer used to amplify that sample.  Only IUPAC DNA characters are acceptable.</li>
<li>All subsequent column headers (except the last one) are metadata headers. For example, a &#8220;Smoker&#8221; column would include either &#8220;Yes&#8221; or &#8220;No&#8221;. Note that the data in each column is assumed to be categorical unless specified otherwise. Categorical data columns must include at least 2 unique values per column. All metadata must be composed of only alphanumeric, underscore (&#8220;_&#8221;), period (&#8220;.&#8221;), minus sign (&#8220;-&#8220;), plus sign (&#8220;+&#8221;) and/or percentage (&#8220;%&#8221;) characters. For missing data, write &#8220;NA&#8221;; do not leave blanks.</li>
<li>The last column of the mapping file must be named &#8220;Description&#8221;. Information in this column includes information that is unique to each sample, such as the medications taken by the patient, or any other descriptive information. The same character restrictions that apply to the metadata columns in guildline four apply to sample descriptions.  Sample/Run Description should be kept brief, if possible. Information that applies to all samples in a mapping file should go in the run description section, which is defined as lines starting with a &#8220;#&#8221; character, immediately following the header line (See example format below.) Information that is specific to a particular sample should go in the &#8220;Description&#8221; column.</li>
<li>There should be no empty lines or comment lines (starting with #) throughout the metadata, with the exception of any additional run description lines that immediately follow the initial header line.</li>
</ol>
<p>Notes for more than one mapping or FASTA file at once:</p>
<ol class="arabic simple">
<li>If you want to use a single mapping file with multiple FASTA files, MAKE SURE NO BARCODES ARE REPEATED BETWEEN THE RUNS.</li>
<li>If you are providing multiple mapping files for a single FASTA file, make sure that use of column headers is consistent across all files. (Case-sensitive!) E.g. &#8220;Barcode&#8221; is not the same as &#8220;BarCode&#8221; is not the same as &#8220;barcode&#8221; is not the same as &#8220;Bar_code&#8221;.</li>
</ol>
<p>Example Mapping Files:</p>
<ol class="arabic simple">
<li>Mapping file with a unique &#8220;Description&#8221; column:</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>#SampleID     BarcodeSequence LinkerPrimerSequence    AnimalDiet      ...     Description</li>
<li>A                     CGAGTCTAGTTG    YATGCTGCCTCCCGTAGGAGT   Carnivore       ...     Lion_11</li>
<li>B                     CCGACTGAGATG    YATGCTGCCTCCCGTAGGAGT   Herbivore       ...     Kangaroo_3</li>
<li>C                     TCGCCTGAGATG    YATGCTGCCTCCCGTAGGAGT   Omnivore        ...     Human_34</li>
<li>...</li>
</ul>
</div>
<ol class="arabic simple" start="2">
<li>Mapping file with &#8220;run description&#8221; lines following the &#8220;header line&#8221;:</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>#SampleID     BarcodeSequence LinkerPrimerSequence    AnimalDiet      ...     Description</li>
<li># This is a &#8220;run description&#8221; example. It can span as many lines as needed</li>
<li># before the rest of the mapping file starts. Each line must begin with</li>
<li># the pound &#8216;#&#8217; character. You do not have to wrap your lines but it may make</li>
<li># your &#8220;run description&#8221; section easier to read.</li>
<li># The run description should contain a general description of the run</li>
<li># and details that might be useful in interpreting the results such as:</li>
<li># 1) what type of samples are in this run, 2) where and when they were collected,</li>
<li># 3) how they were prepped, 4) what type of barcodes and primers were used</li>
<li># 5) where they were sequenced (e.g. facility) or collected from</li>
<li># (e.g. public databases), 6) what you are expecting/hoping to find in the run</li>
<li># 7) any possible problems (technical e.g. during prep/sequencing, experimental</li>
<li># etc) 8) etc.</li>
<li># The description in this section will be applied to any individual samples</li>
<li># that are missing a value in the &#8216;Description&#8217; column</li>
<li>#SampleID     BarcodeSequence LinkerPrimerSequence    AnimalDiet      ...     Description</li>
<li>A                     CGAGTCTAGTTG    YATGCTGCCTCCCGTAGGAGT   Carnivore       ...     Lion_11</li>
<li>B                     CCGACTGAGATG    YATGCTGCCTCCCGTAGGAGT   Herbivore       ...     Kangaroo_3</li>
<li>C                     TCGCCTGAGATG    YATGCTGCCTCCCGTAGGAGT   Omnivore        ...     Human_34</li>
<li>...</li>
</ul>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

    
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">Input Files</a><ul>
<li><a class="reference external" href="#what-files-do-i-need">What Files Do I Need?</a></li>
<li><a class="reference external" href="#file-format-details">File Format Details</a><ul>
<li><a class="reference external" href="#fasta-file-fna">FASTA File (.fna)</a></li>
<li><a class="reference external" href="#quality-score-file-qual-optional">Quality Score File (.qual) - Optional</a></li>
<li><a class="reference external" href="#flowgram-file-sff-optional">Flowgram File (.sff) - Optional</a></li>
<li><a class="reference external" href="#mapping-file-tab-delimited-txt">Mapping File (tab-delimited .txt)</a></li>
</ul>
</li>
</ul>
</li>
</ul>


	<h3><a href="../index.html">Site index</a></h3>
	<ul><li><ul>
		
	 <li><a href="../index.html">Home</a><br /></li>
	 <li><a href="../install/index.html">Install</a><br /></li>
	 <li><a href="index.html">Documentation</a><br /></li>
	 <li><a href="../tutorials/index.html">Tutorials</a><br /></li>
	 <li><a href="http://qiime.wordpress.com">Blog</a><br /></li>
	 <li><a href="../developer/index.html">Developer</a><br /></li>
	</ul></li></ul>


          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Home</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
      &copy; Copyright 2010, QIIME Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-6636235-4");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>