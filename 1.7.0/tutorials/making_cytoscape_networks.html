<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Making Cytoscape Networks &mdash; Homepage</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Homepage" href="../index.html" />     
<meta http-equiv="Content-Style-Type" content="text/css" />
<script type="text/javascript" src="http://www.google.com/jsapi?key=ABQIAAAAbW_pA971hrPgosv-Msv7hRRE2viNBUPuU405tK6p2cguOFmlFBQSwZMG6_q_v6Z42nkdo9ejT1aHmA"></script>
<script type="text/javascript" src="../_static/google_feed.js"></script>

  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 0px">
<a href="../index.html"><img src="../_static/wordpressheader.png" border="0" alt="sampledoc"/></a>
</div>
<div class="news" style="background-color:#ccc;"><table style="font-size:12pt;padding: 5px;"><tr id="feed"><td><b>News and Announcements &raquo;</b></td>
</tr></table></div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Home</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="making-cytoscape-networks">
<span id="index-0"></span><h1>Making Cytoscape Networks<a class="headerlink" href="#making-cytoscape-networks" title="Permalink to this headline">¶</a></h1>
<p>For this visualization, we will use the real edge table (<tt class="file docutils literal"><span class="pre">real_edge_table.txt</span></tt>) and real node file (<tt class="file docutils literal"><span class="pre">real_node_table.txt</span></tt>) that is generated by the <a class="reference external" href="../scripts/make_otu_network.html">make_otu_network.py</a> script.</p>
<p>The (<tt class="file docutils literal"><span class="pre">real_edge_table.txt</span></tt>) contains the columns “from”, “to”, “eweight” and “consensus_lin”, among others dictated by the headers in your mapping file. The edges (lines connecting the nodes) will span “from” the sample_ids “to” the otu_ids listed in the biom table. The (<tt class="file docutils literal"><span class="pre">real_node_table.txt</span></tt>) will thus contain a node for every OTU and every sample in your study.</p>
<div class="section" id="importing-the-network">
<h2>Importing the network<a class="headerlink" href="#importing-the-network" title="Permalink to this headline">¶</a></h2>
<p>The following are the directions to use once Cytoscape is installed and open:</p>
<ol class="arabic">
<li><dl class="first docutils">
<dt>File -&gt; Import -&gt; Network from Table</dt>
<dd><ol class="first last loweralpha">
<li><p class="first">Select: <tt class="file docutils literal"><span class="pre">real_edge_table.txt</span></tt> file. You’ll see a Preview of the table at the bottom of the window</p>
</li>
<li><p class="first">Click: Show Text File Import Options</p>
</li>
<li><p class="first">Click: Transfer first line as attribute names</p>
</li>
<li><p class="first">Select: Source Interaction = Column 1</p>
<blockquote>
<div><p>We want our Sources to be our Samples, i.e what is listed in the “from” column.
Once selected, the “from” column should be highlighted in the Preview window</p>
</div></blockquote>
</li>
<li><dl class="first docutils">
<dt>Select: Target Interaction = Column 2</dt>
<dd><p class="first last">Our Targets will be the OTUs, i.e. what is listed in the “to” column</p>
</dd>
</dl>
</li>
<li><p class="first">Click the headers for all other columns to import them (they will turn blue: note, might need to clicked more than once – you want to see a check mark next to the name instead of an X to know you have imported them successfully)</p>
</li>
</ol>
</dd>
</dl>
</li>
</ol>
<ul>
<li><p class="first">As a result, you should get successful import message. You should now see your network (as is shown below), though not in a particularly pretty format. You can use the roller button on your mouse to zoom in and out of the network. Next, we are going to import attributes for each of our nodes.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../_images/cytoscape_initial_network.png"><img alt="../_images/cytoscape_initial_network.png" class="align-center" src="../_images/cytoscape_initial_network.png" style="height: 400px;" /></a>
</div></blockquote>
</li>
</ul>
<ol class="arabic" start="2">
<li><dl class="first docutils">
<dt>File -&gt; Import -&gt; Attribute from Table</dt>
<dd><ol class="first last loweralpha">
<li><p class="first">Select: <tt class="file docutils literal"><span class="pre">real_node_table.txt</span></tt> file</p>
</li>
<li><p class="first">Click: Show Text File Import Options</p>
</li>
<li><dl class="first docutils">
<dt>Click: Transfer first line as attribute name</dt>
<dd><p class="first last">You should see check marks next to each of the headers in the Preview window. If not, click on the header until you get a check mark.</p>
</dd>
</dl>
</li>
<li><p class="first">Click: Import</p>
</li>
</ol>
</dd>
</dl>
</li>
</ol>
<ul class="simple">
<li>As a result, you should get successful import message.</li>
</ul>
</div>
<div class="section" id="formating-and-coloring-your-network">
<h2>Formating and coloring your network<a class="headerlink" href="#formating-and-coloring-your-network" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Click: VizMapper</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Let’s color our Samples by Treatment, i.e. whether they are in the Control or Fasting group.</p>
</li>
<li><p class="first">Click: Node Color</p>
</li>
<li><p class="first">Double-Click to create…</p>
</li>
<li><dl class="first docutils">
<dt>Click: Please select a value!</dt>
<dd><ol class="first last loweralpha simple">
<li>Select: Treatment</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Click: Please select a mapping type!</dt>
<dd><ol class="first last loweralpha">
<li><dl class="first docutils">
<dt>Select: Discrete</dt>
<dd><p class="first last">You should now see the Treatment groups of “Control”, “Fasting” or “otu” pop-up just below Node Color. Remember, the nodes in our network consist of both Samples and OTUs.</p>
</dd>
</dl>
</li>
</ol>
</dd>
</dl>
</li>
</ol>
<a class="reference internal image-reference" href="../_images/cytoscape_nodecolor.png"><img alt="../_images/cytoscape_nodecolor.png" src="../_images/cytoscape_nodecolor.png" style="height: 300px;" /></a>
<ol class="arabic" start="6">
<li><dl class="first docutils">
<dt>Click: Control, then click on the “…” next to it</dt>
<dd><ol class="first last loweralpha simple">
<li>This will bring up a Pick a Color window – let’s make the Control samples a blue. Click: OK</li>
<li>Repeat this to make the Treatment samples bright green, and the otus white</li>
</ol>
</dd>
</dl>
</li>
<li><p class="first">Click inside the Defaults window to bring up a “Default Appearance for default” window. Click on the Global tab, and change the background color to black. Click Apply.</p>
</li>
</ol>
<a class="reference internal image-reference" href="../_images/cytoscape_change_background.png"><img alt="../_images/cytoscape_change_background.png" src="../_images/cytoscape_change_background.png" style="height: 300px;" /></a>
<ol class="arabic" start="8">
<li><dl class="first docutils">
<dt>We can now change the Layout format. In the upper tool bar window, Select: Layout -&gt; Cytoscape Layouts -&gt; Edge-Weighted Spring Embedded -&gt; eweights</dt>
<dd><ol class="first last loweralpha simple">
<li>This may take a moment to process depending on the size of your network. Unfortunately, if your computer freezes on this step, there’s really nothing to do but restart Cytoscape and try again. Save often!</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Let’s change the size of our nodes. Select: Node Size.</dt>
<dd><ol class="first last loweralpha simple">
<li>In more complicated datasets, it would be a very good idea to open up your real_node_table.txt in Excel and add in columns that will make it very easy to group items together, like Samples and OTUs. At the moment, we can click on LinkerPrimerSequence. This will group all the OTUs together vs. all the Samples, since in this case our samples have the same LinkerPrimerSequence.</li>
<li>Make the samples size 50.0, and the otus size 10.0</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Let’s change the edge colors connect our Treatment samples to their otus, and our Control samples to their otus. Select: Edge Color -&gt; Treatment</dt>
<dd><ol class="first last loweralpha simple">
<li>Mapping Type: Discrete Mapping</li>
<li>Change the Control color to blue, and the Fast color to bright green.</li>
</ol>
</dd>
</dl>
</li>
</ol>
<a class="reference internal image-reference" href="../_images/cytoscape_colored_edges.png"><img alt="../_images/cytoscape_colored_edges.png" src="../_images/cytoscape_colored_edges.png" style="height: 400px;" /></a>
<ol class="arabic" start="11">
<li><dl class="first docutils">
<dt>If you want to do anything more “custom”, you need to play around with your node and edge tables. For example, how can we color the otus that are shared between the Control and Fasting groups a different color than the otus that belong to just one treatment group? To do this, we can:</dt>
<dd><ol class="first last loweralpha simple">
<li>Convert your biom table to a classic otu table using convert_biom.py</li>
<li>Copy out all the OTU Ids seen in your study</li>
<li>Open up your real_edge_table.txt in Excel</li>
<li>Make a new excel sheet that contains where column A represents the OTUs seen in the Control group, column B represents the samples in Fasting group. In column C put your entire list of OTUs taken from the otu_table.txt. You can now use the COUNTIF function in Excel to find if each OTU is present in either the Control group only, the Fasting group only, or in both. With this information, make a new column in your real_node_table.txt where you label each OTU based on it being shared or not_shared, and each sample based on being a Control or Fasting sample. Now you can click on Node Color and color each individually. Here, we can see that the shared OTUs are colored yellow, and the not_shared OTUs are colored pink.</li>
</ol>
</dd>
</dl>
</li>
</ol>
<a class="reference internal image-reference" href="../_images/cytoscape_colored_shared.png"><img alt="../_images/cytoscape_colored_shared.png" src="../_images/cytoscape_colored_shared.png" style="height: 400px;" /></a>
<ol class="arabic simple" start="12">
<li>As you can see in VizMapper, there are a multitude of options for coloring and otherwise changing your network. Have fun.</li>
</ol>
</div></blockquote>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

    
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Making Cytoscape Networks</a><ul>
<li><a class="reference internal" href="#importing-the-network">Importing the network</a></li>
<li><a class="reference internal" href="#formating-and-coloring-your-network">Formating and coloring your network</a></li>
</ul>
</li>
</ul>


	<h3><a href="../index.html">Site index</a></h3>
	<ul><li><ul>
	<li><a href="../index.html">Home</a><br /></li>
	<li><a href="../install/index.html">Install</a><br /></li>
	<li><a href="../documentation/index.html">Documentation</a><br /></li>
	<li><a href="index.html">Tutorials</a><br /></li>
	<li><a href="http://qiime.wordpress.com">Blog</a><br /></li>
	<li><a href="../developer/index.html">Developer</a><br /></li>
	</ul></li></ul>


<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Home</a> &raquo;</li> 
      </ul>
    </div>
<div style="text-align: center; padding: 0px;"><br />
<a href="http://www.pycogent.org" target="_blank"><img src="../_static/PoweredByPycogent.jpg" border="0" alt="sampledoc" height="70px"/></a>
<br /></div>

    <div class="footer">
        &copy; Copyright 2012, QIIME Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-6636235-4");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>