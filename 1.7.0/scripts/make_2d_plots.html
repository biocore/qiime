<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>make_2d_plots.py – Make 2D PCoA Plots &mdash; Homepage</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Homepage" href="../index.html" />     
<meta http-equiv="Content-Style-Type" content="text/css" />
<script type="text/javascript" src="http://www.google.com/jsapi?key=ABQIAAAAbW_pA971hrPgosv-Msv7hRRE2viNBUPuU405tK6p2cguOFmlFBQSwZMG6_q_v6Z42nkdo9ejT1aHmA"></script>
<script type="text/javascript" src="../_static/google_feed.js"></script>

  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 0px">
<a href="../index.html"><img src="../_static/wordpressheader.png" border="0" alt="sampledoc"/></a>
</div>
<div class="news" style="background-color:#ccc;"><table style="font-size:12pt;padding: 5px;"><tr id="feed"><td><b>News and Announcements &raquo;</b></td>
</tr></table></div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Home</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="make-2d-plots"></span><div class="section" id="make-2d-plots-py-make-2d-pcoa-plots">
<span id="index-0"></span><h1><em>make_2d_plots.py</em> &#8211; Make 2D PCoA Plots<a class="headerlink" href="#make-2d-plots-py-make-2d-pcoa-plots" title="Permalink to this headline">¶</a></h1>
<p><strong>Description:</strong></p>
<p>This script generates 2D PCoA plots using the principal coordinates file generated by performing beta diversity measures of an OTU table.</p>
<p><strong>Usage:</strong> <tt class="file docutils literal"><span class="pre">make_2d_plots.py</span> <span class="pre">[options]</span></tt></p>
<p><strong>Input Arguments:</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>[REQUIRED]</strong></p>
<dl class="docutils">
<dt>-i, <cite>-</cite>-coord_fname</dt>
<dd>Input principal coordinates filepath (i.e., resulting file from <a class="reference external" href="./principal_coordinates.html">principal_coordinates.py</a>).  Alternatively, a directory containing multiple principal coordinates files for jackknifed PCoA results.</dd>
<dt>-m, <cite>-</cite>-map_fname</dt>
<dd>Input metadata mapping filepath</dd>
</dl>
<p><strong>[OPTIONAL]</strong></p>
<dl class="last docutils">
<dt>-b, <cite>-</cite>-colorby</dt>
<dd>Comma-separated list categories metadata categories (column headers) to color by in the plots. The categories must match the name of a column header in the mapping file exactly. Multiple categories can be list by comma separating them without spaces. The user can also combine columns in the mapping file by separating the categories by &#8220;&amp;&amp;&#8221; without spaces. [default=color by all]</dd>
<dt>-p, <cite>-</cite>-prefs_path</dt>
<dd>Input user-generated preferences filepath. NOTE: This is a file with a dictionary containing preferences for the analysis. [default: None]</dd>
<dt>-k, <cite>-</cite>-background_color</dt>
<dd>Background color to use in the plots. [default: white]</dd>
<dt><cite>-</cite>-ellipsoid_opacity</dt>
<dd>Used only when plotting ellipsoids for jackknifed beta diversity (i.e. using a directory of coord files instead of a single coord file). The valid range is between 0-1. 0 produces completely transparent (invisible) ellipsoids and 1 produces completely opaque ellipsoids. [default=0.33]</dd>
<dt><cite>-</cite>-ellipsoid_method</dt>
<dd>Used only when plotting ellipsoids for jackknifed beta diversity (i.e. using a directory of coord files instead of a single coord file). Valid values are &#8220;IQR&#8221; and &#8220;sdev&#8221;. [default=IQR]</dd>
<dt><cite>-</cite>-master_pcoa</dt>
<dd>Used only when plotting ellipsoids for jackknifed beta diversity  (i.e. using a directory of coord files instead of a single coord file). These coordinates will be the center of each ellipisoid. [default: None; arbitrarily chosen PC matrix will define the center point]</dd>
<dt><cite>-</cite>-scree</dt>
<dd>Generate the scree plot [default: False]</dd>
<dt>-o, <cite>-</cite>-output_dir</dt>
<dd>Path to the output directory</dd>
</dl>
</div>
<p><strong>Output:</strong></p>
<p>This script generates an output folder, which contains several files. To best view the 2D plots, it is recommended that the user views the _pcoa_2D.html file.</p>
<p><strong>Default Example:</strong></p>
<p>If you just want to use the default output, you can supply the principal coordinates file (i.e., resulting file from <a class="reference external" href="./principal_coordinates.html">principal_coordinates.py</a>), where the default coloring will be based on the SampleID as follows:</p>
<div class="highlight-python"><pre>make_2d_plots.py -i unweighted_unifrac_pc.txt -m Fasting_Map.txt</pre>
</div>
<p><strong>Output Directory Usage:</strong></p>
<p>If you want to give an specific output directory (e.g. &#8220;2d_plots&#8221;), use the following code.</p>
<div class="highlight-python"><pre>make_2d_plots.py -i unweighted_unifrac_pc.txt -m Fasting_Map.txt -o 2d_plots/</pre>
</div>
<p><strong>Mapping File Usage:</strong></p>
<p>Additionally, the user can supply their mapping file (&#8216;-m&#8217;) and a specific category to color by (&#8216;-b&#8217;) or any combination of categories. When using the -b option, the user can specify the coloring for multiple mapping labels, where each mapping label is separated by a comma, for example: -b &#8216;mapping_column1,mapping_column2&#8217;. The user can also combine mapping labels and color by the combined label that is created by inserting an &#8216;&amp;&amp;&#8217; between the input columns, for example: -b &#8216;mapping_column1&amp;&amp;mapping_column2&#8217;.If the user wants to color by specific mapping labels, they can use the following code:</p>
<div class="highlight-python"><pre>make_2d_plots.py -i unweighted_unifrac_pc.txt -m Fasting_Map.txt -b 'Treatment'</pre>
</div>
<p><strong>Scree plot Usage:</strong></p>
<p>A scree plot can tell you how many axes are likely to be important and help determine how many &#8216;real&#8217; underlying gradients there might be in your data as well as their relative &#8216;strength&#8217;. If you want to generate a scree plot, use the following code.</p>
<div class="highlight-python"><pre>make_2d_plots.py -i unweighted_unifrac_pc.txt -m Fasting_Map.txt --scree</pre>
</div>
<p><strong>Color by all categories:</strong></p>
<p>If the user would like to color all categories in their metadata mapping file, they should not pass -b. Color by all is the default behavior.</p>
<div class="highlight-python"><pre>make_2d_plots.py -i unweighted_unifrac_pc.txt -m Fasting_Map.txt</pre>
</div>
<p><strong>Prefs File:</strong></p>
<p>The user can supply a prefs file to color by, as follows:</p>
<div class="highlight-python"><pre>make_2d_plots.py -i unweighted_unifrac_pc.txt -m Fasting_Map.txt -p prefs.txt</pre>
</div>
<p><strong>Jackknifed Principal Coordinates (w/ confidence intervals):</strong></p>
<p>If you have created jackknifed PCoA files, you can pass the folder containing those files, instead of a single file.  The user can also specify the opacity of the ellipses around each point &#8216;&#8211;ellipsoid_opacity&#8217;, which is a value from 0-1. Currently there are two metrics &#8216;&#8211;ellipsoid_method&#8217; that can be used for generating the ellipsoids, which are &#8216;IQR&#8217; and &#8216;sdev&#8217;. The user can specify all of these options as follows:</p>
<div class="highlight-python"><pre>make_2d_plots.py -i pcoa/ -m Fasting_Map.txt -b 'Treatment&amp;&amp;DOB' --ellipsoid_opacity=0.5 --ellipsoid_method=IQR</pre>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

    

	<h3><a href="../index.html">Site index</a></h3>
	<ul><li><ul>
	<li><a href="../index.html">Home</a><br /></li>
	<li><a href="../install/index.html">Install</a><br /></li>
	<li><a href="../documentation/index.html">Documentation</a><br /></li>
	<li><a href="../tutorials/index.html">Tutorials</a><br /></li>
	<li><a href="http://qiime.wordpress.com">Blog</a><br /></li>
	<li><a href="../developer/index.html">Developer</a><br /></li>
	</ul></li></ul>


<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Home</a> &raquo;</li> 
      </ul>
    </div>
<div style="text-align: center; padding: 0px;"><br />
<a href="http://www.pycogent.org" target="_blank"><img src="../_static/PoweredByPycogent.jpg" border="0" alt="sampledoc" height="70px"/></a>
<br /></div>

    <div class="footer">
        &copy; Copyright 2012, QIIME Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-6636235-4");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>